@using WebApplication1.Models;
@{
    ViewBag.Title = "Home Page";
}
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="~/styles/Slideshow.css" rel="stylesheet" />

<div class="container">
    @* <h1>@ViewBag.username  ASP.NET</h1>*@
    <br />
    <div class="slideshow-container" style="border-style:solid; border-width:2px; border-color:black">

        @foreach (displaymovie s in ViewBag.data)
        {
            if (DateTime.Compare(DateTime.Now, s.release) > 0)
            {
            <div class="mySlides fade">

                <img src="@Url.Content(s.land)" style="width:100%;height:340px">
                <div class="text">
                    @*<h3 style="font-family:sans-serif; font-weight:bolder; color:#8a0303">@s.displayn</h3>
                    <p style="font-family:sans-serif; font-weight:bolder; color:#8a0303">IMDB Rating : @s.rating / 10</p>*@
                </div>
            </div>
            }
        }
    </div>
    <br>

    <div style="text-align:center">
        @foreach (displaymovie s in ViewBag.data)
        {
            if (DateTime.Compare(DateTime.Now, s.release) > 0)
            {
            <span class="dot"></span>
            }
        }

    </div>



    <script>
        var slideIndex = 0;
        showSlides();

        function showSlides() {
            var i;
            var slides = document.getElementsByClassName("mySlides");
            var dots = document.getElementsByClassName("dot");
            for (i = 0; i < slides.length; i++) {
                slides[i].style.display = "none";
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            for (i = 0; i < dots.length; i++) {
                dots[i].className = dots[i].className.replace(" active", "");
            }
            slides[slideIndex - 1].style.display = "block";
            dots[slideIndex - 1].className += " active";
            setTimeout(showSlides, 4000); // Change image every 2 seconds
        }
    </script>
    @*<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="~/images/welcome.png" alt="First slide">
                </div>
                @foreach (displaymovie s in ViewBag.data)
                {
                    <div class="carousel-item">

                        <img class="d-block w-100" src="@Url.Content(s.image)" alt="Second slide">
                        <div class="carousel-caption d-none d-md-block">
                            <h5>@s.displayn</h5>
                            <p>@s.rating</p>

                        </div>
                        </div>
                        }


                    </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>*@

    @*<table>
            <tr>
                @foreach (displaymovie s in ViewBag.data)
                {
                    <th>
                        <img src="@Url.Content(s.image)"/>
                    </th>
                }
            </tr>
        </table>*@
</div>
<br />
<div class="container" style="background-color:white; padding-top:-10px;">


    <div>
        <h2>
            Now Showing


        </h2>
    </div>
    <div>
        <table>
            <tr>
                @foreach (displaymovie s in ViewBag.data)
                {
                    if (DateTime.Compare(DateTime.Now, s.release) > 0)
                    {
                    <td style="padding: 10px 10px 10px 10px;">
                        <a href='@Url.Action("change", "Home", new { obj=s.movieid})'>
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">
                                        <img src="@Url.Content(s.image)" style="width:300px;height:300px;">
                                    </div>
                                    <div class="flip-card-back">
                                        <h3>@s.displayn</h3>
                                        <p>Review - @s.review</p>
                                        <p>IMDB - @s.rating</p>
                                    </div>
                                </div>
                            </div>
                        </a>
</td>
                    }
                }




                @*<div class="col-md-4">
                        <h2>Get more libraries</h2>
                        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
                        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a></p>
                    </div>
                    <div class="col-md-4">
                        <h2>Web Hosting</h2>
                        <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
                        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
                    </div>*@
            </tr>
        </table>
    </div>

    </div>

<br />
<div class="container" style="background-color:white; padding-top:-10px;">


    <div>
        <h2>
            Upcoming Movies


        </h2>
    </div>
    <div>
        <table>
            <tr>
                @foreach (displaymovie s in ViewBag.data)
                {
                    if (DateTime.Compare(DateTime.Now, s.release) < 0)
                    {

                                               <td style="padding: 10px 10px 10px 10px;">
                                                 
                        <div class="flip-card">
                            <div class="flip-card-inner">
                                <div class="flip-card-front">
                                    <img src="@Url.Content(s.image)" style="width:300px;height:300px;">
                                </div>
                                <div class="flip-card-back">
                                    <h3>@s.displayn</h3>
                                    <p>Actors - @s.actors</p>
                                    <p>Release Date - @s.release.ToShortDateString()</p>
                                </div>
                            </div>
                        </div>
                    </td>
                        }
                    }




                @*<div class="col-md-4">
                        <h2>Get more libraries</h2>
                        <p>NuGet is a free Visual Studio extension that makes it easy to add, remove, and update libraries and tools in Visual Studio projects.</p>
                        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301866">Learn more &raquo;</a></p>
                    </div>
                    <div class="col-md-4">
                        <h2>Web Hosting</h2>
                        <p>You can easily find a web hosting company that offers the right mix of features and price for your applications.</p>
                        <p><a class="btn btn-default" href="http://go.microsoft.com/fwlink/?LinkId=301867">Learn more &raquo;</a></p>
                    </div>*@
            </tr>
        </table>
    </div>

</div>
